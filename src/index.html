<!DOCTYPE html>
<html lang="en">

<head>
    <title>KEYWORDS PLANNER</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="lib/bootstrap.css">
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="lib/bootstrap.min.css">
    <link rel="stylesheet" href="lib/all.min.css">
    <script type="text/javascript" src="crud.js"></script>
    <script type="text/javascript" src="lib/jquery-3.3.1.min.js"></script>
    <script src="./lib/jquery-3.3.1.min.js" onload="window.$ = window.jQuery = module.exports;"></script>
    <script type="text/javascript" src="lib/all.min.js"></script>
    <script type="text/javascript" src="lib/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript" src="lib/jQuery.highlight.js"></script>

    <style>
        .hwt-container {
        background-color: #fff;
            }

        .hwt-content {
            height: calc(2.25rem + 2px);
            padding: .375rem .75rem;
            font-size: 1rem;
            line-height: 1.5;
            color: #495057;
            background-color: #fff;
            background-clip: padding-box;
            border: 1px solid #ced4da;
            border-radius: .25rem;
            transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
        }

        .hwt-content mark {
            border-radius: 3px;
            background-color: #ffff00;
        }

        /**
        * Highlight any element inside the context
        * because it can be freely defined
        */
        .context :not(p) {
        background: #f0c82a;
        padding: 0;
        }

        .custom-context {
            display: block;
            width: 100%;
            height: 77vh;
            padding: .375rem .75rem;
            font-size: 1rem;
            line-height: 1.5;
            color: #495057;
            background-color: #fff;
            background-clip: padding-box;
            border: 1px solid #ced4da;
            border-radius: .25rem;
            transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
            overflow-y: scroll;
        }

    </style>

</head>

<body class="custom-body">

    <!--use for modal -->
    <p id="index_id" hidden></p>
    <p id="tag_name" hidden></p>

   <!--Add Index Modal -->
    <div class="modal " id="addIndexModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Add New Index</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                    <input id="input_add_index" type="text" class="form-control" placeholder="Enter index...">
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button id="btn_add_index" type="button" data-dismiss="modal" class="btn btn-primary">Submit</button>
                </div>
            </div>
        </div>
    </div>

   <!--Update Index Modal -->
   <div class="modal " id="updateIndexModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Update Index</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <input id="input_update_index" type="text" class="form-control" placeholder="Update index...">
                    <p id="index_id" hidden></p>
                    <p id="tag_name" hidden></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button id="btn_update_index" type="button" data-dismiss="modal" class="btn btn-primary">Save Changes</button>
                </div>
            </div>
        </div>
    </div>

    <!--Delete Index Modal -->
    <div class="modal " id="deleteIndexModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Delete Index</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <label><b>Are you sure you want to delete this Index?</b></label>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                    <button id="btn_remove_index" type="button" data-dismiss="modal" class="btn btn-danger">Yes</button>
                </div>
            </div>
        </div>
    </div>

     <!--Add Tag Modal -->
     <div class="modal " id="addTagModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Add New Tag</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                </div>
                <div class="modal-body">
                    <input id="input_add_tag" type="text" class="form-control" placeholder="Enter tag...">
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button id="btn_add_tag" type="button" data-dismiss="modal" class="btn btn-primary">Submit</button>
                </div>
            </div>
            </div>
        </div>

   <!--Update Tag Modal -->
    <div class="modal " id="updateTagModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Update Tag</h5>
                <button type="button" class="close"  data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <input id="input_update_tag" type="text" class="form-control" placeholder="Update tag...">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button id="btn_update_tag" type="button" data-dismiss="modal" class="btn btn-primary">Save Changes</button>
            </div>
            </div>
        </div>
    </div>

     <!--Delete Tag Modal -->
    <div class="modal " id="deleteTagModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Delete Tag</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <label><b>Are you sure you want to delete this tag?</b></label>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                <button id="btn_remove_tag" type="button" data-dismiss="modal" class="btn btn-danger">Yes</button>
            </div>
            </div>
        </div>
    </div>

    <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeSidePanel()"><i class="fas fa-times"></i></a>
        <div class="wrapper">
        <!-- Sidebar  -->
        <nav id="sidebar">
                <div class="sidebar-header">
                    <h5><i class="fas fa-cog"></i> Settings</h5>
                </div>
    
                <ul class="list-unstyled">
                    
                
                    <li class="active">
                        <a href="#"><i class="fas fa-list"></i> Keyword List</a>
                    </li>
                    <!-- <li>
                        <a href="#"><i class="fas fa-clipboard-check"></i> Check Updates</a>
                    </li>
                    <li>
                        <a href="#"><i class="fas fa-info"></i> About</a>
                    </li> -->
                  
                </ul>
        </nav>
         <!-- Page Content  -->
         <div class="keyword-list-content">
            <h5>Keyword List:</h5>
            <hr>
            <!-- Button trigger modal -->
            <div class="text-right">
                <button type="button" onclick="getIndex('','')" class="btn btn-custom" data-toggle="modal" data-target="#addIndexModal">
                    Add Index
                </button>
            </div>
            <br>
            <div class="row">
                <div class="col-lg-12">
                    <div class="accordion" id="accordionKeywordList">
                            <!-- Dynamic keyword list goes here-->     
                    </div>
            </div>
            </div>
         </div>
      </div>
    </div>
    </div>

    <nav class="navbar navbar-expand-lg navbar-light custom-navbar">
        <a class="navbar-brand-custom">KEYWORD INDEXER</a>
        <div class="collapse navbar-collapse navbar-dark" id="navbarSupportedContent">

        </div>
    </nav>

    <br>

    <div class="container-fluid">
         
        <div class="row">
            <div class="col-lg-7">
                <div class="row">
                    <div class="col-lg-7">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="inputGroupFileAddon01"><i class="fas fa-file fa-sm"></i></span>
                            </div>
                            <div class="custom-file">
                                <input type="file" class="custom-file-input" id="inputGroupFile01" aria-describedby="inputGroupFileAddon01" onchange="loadFileAsText()">
                                <label id="inputGroupFileLabel01" class="custom-file-label" for="inputGroupFile01">Choose file</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-5">
                        <div class="text-right">
                            <button id="btn_clear" type="button" class="btn btn-custom " onclick="clearFileTextArea()"><i class="fas fa-broom fa-sm"></i> Clear</button> 
                            <button id="btn_search" type="button" class="btn btn-custom "><i class="fas fa-search fa-sm"></i> Search Keyword </button> 
                        </div>
                    </div>
                </div>
                <br>
                <div class="row">
                        <div class="col-lg-12">
                            <div class="form-group">
                                <textarea id="txt_document" class="form-control flex-fill" placeholder="Write something here..."></textarea>
                                <div class="custom-context" id = p_con_content_parent>
                                    <div class="context">
                                        <p id="p_con_content"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                </div>
            </div>
            <div class="col-lg-5">
         
                <div class="row">
                    <div class="col-lg-12">
                       <div class="text-right">
                                <button id="btn_add" type="button" class="btn btn-custom float-right" onclick="openSidePanel()"><i class="fas fa-cog"></i></button> 
                        </div>
                    </div>
                </div>
                <hr>
             
                <div class="row">
                    <div class="col-lg-12">
                            <div class="accordion" id="accordionExample">
                                    <div class="card">
                                            <div class="custom-card-header" id="headingOne">
                                            <h6 class="mb-0">
                                                <a class="text-white"  data-toggle="collapse" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                                    <i class="fas fa-caret-down"></i> KEYWORDS MATCH 
                                                </a>
                                            </h6>
                                            </div>
                                        
                                            <div id="collapseOne" class="collapse multi-collapse show" aria-labelledby="headingOne" >
                                                <div class="card-body">
                                                    <table class="table table-sm" id="tbl_MATCH" >
                                                        <thead class="thead-dark">
                                                            <tr>
                                                                <th>Keyword</th>
                                                                <th>Occurrence</th>
                                                                <th>Matching index</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="tbl_tags_occurence_indexes">
                                                                <!-- Dynamic content goes here-->
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                     
                                    </div>
                                    <div class="card">
                                        <div class="custom-card-header" id="headingTwo">
                                        <h6 class="mb-0">
                                            <a class="text-white" data-toggle="collapse" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                                <i class="fas fa-caret-down"></i> TOP KEYWORDS
                                            </a>
                                        </h6>
                                        </div>
                                        <div id="collapseTwo" class="collapse multi-collapse show" aria-labelledby="headingTwo">
                                        <div class="card-body">
                                            <table class="table table-sm" id="tbl_topresult" >
                                                <thead class="thead-dark">
                                                    <tr>
                                                        <th scope="col">Keyword</th>
                                                        <th scope="col">Occurrence</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="tbl_top">
                                                        <!-- Dynamic content goes here-->
                                                </tbody>
                                            </table>
                                        </div>
                                        </div>
                                    </div>
                                    
                            </div>
                        </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Include renderer process -->
    <script type="text/javascript">
        require('./renderer-process/index')
    </script>
  
     <script type="text/javascript">
        //  Load upload file name
        $('.custom-file input').change(function (e) {
            $(this).next('.custom-file-label').html(e.target.files[0].name);
        });
        //  Side panel navigation
        function openSidePanel() {
            document.getElementById("mySidenav").style.width = "100%";
        }
        
        function closeSidePanel() {
            document.getElementById("mySidenav").style.width = "0";
        }

        $('.collapse').on('shown.bs.collapse', function(){
        $(this).parent().find(".fa-caret-right").removeClass("fa-caret-right").addClass("fa-caret-down");
        }).on('hidden.bs.collapse', function(){
        $(this).parent().find(".fa-caret-down").removeClass("fa-caret-down").addClass("fa-caret-right");
        });
        
        $("#p_con_content_parent").hide();

    </script>
</body>

</html>